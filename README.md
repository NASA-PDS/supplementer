# Supplementer
Supplementer is a tool to ingest supplemental metadata for PDS products into PDS Registry. 

## Documentation
You can find documentation for the latest release of the Supplementer tool, including installation and operation 
at https://nasa-pds.github.io/pds-registry-app/

## Build

You need JDK 11 and Maven to build this project. To create distribution package, run

```
mvn package
```

### Dependencies on other PDS Projects

* https://github.com/NASA-PDS/pds4-jparser - PDS label data table parser.
* https://github.com/NASA-PDS/pds-registry-common - Elasticsearch client, date conversion.

## Installation

* Either download binary release (ZIP or TGZ archives) from https://github.com/NASA-PDS/supplementer/releases
or, if you built the project yourself, get the ZIP or TGZ archive from "target" directory.

* Extract the archive to any folder, such as /home/pds


## Usage

Go to "bin" folder in the installation directory and run `supplementer` without any parameters to see the help screen.


#### Example 1: 
Load supplemental data from Product_Metadata_Supplemental label into local registry (Elasticsearch)

```
supplementer load-labels /home/user1/data/prod_supplemental_1.xml
```

#### Example 2: 
Load supplemental data from a list of Product_Metadata_Supplemental labels generated by Harvest

Harvest generates `supplemental.txt` file with a list of Product_Metadata_Supplemental 
label files in its output directory. 
Content of `supplemental.txt` file might look like this:

```
/home/user1/data/my_supplemental_label.xml
/home/user1/data/another_supplemental_product.xml
```

To load this list into local registry, run the following command:

```
supplementer load-labels /tmp/harvest/out/supplemental.txt
```

## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

Please make sure to update tests as appropriate.

## License
[APLv2](https://www.apache.org/licenses/LICENSE-2.0)
